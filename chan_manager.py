import sys
import re
import base64
import requests
from urllib.parse import urlparse, parse_qs, quote, unquote, quote_plus, unquote_plus, urlencode
headers = {'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36',
        'Accept': '*/*',
        'Accept-Language': 'pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7,es;q=0.6'}

def web_bot(url,headers2):
    headers.update(headers2)
    from selenium import webdriver
    options = webdriver.ChromeOptions()
    options.add_argument("--headless")
    options.add_argument(f"--headers={headers}")
    driver = webdriver.Chrome(options=options)
    driver.get(url)
    page_source = driver.page_source
    driver.quit()
    return page_source


def get_script_futebolplay(channel):
    canais = {'megapix': ['\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x70\x6c\x61\x79\x65\x72\x2f\x61\x6f\x76\x69\x76\x6f\x2e\x70\x68\x70\x3f\x63\x61\x6e\x61\x6c\x3d\x6d\x65\x67\x61\x70\x69\x78\x73\x64\x26\x70\x61\x73\x74\x61\x3d\x6d\x79\x6c\x69\x76\x65', '\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x61\x73\x73\x69\x73\x74\x69\x72\x2d\x6d\x65\x67\x61\x70\x69\x78\x2d\x61\x6f\x2d\x76\x69\x76\x6f\x2d\x6f\x6e\x6c\x69\x6e\x65\x2d\x32\x34\x2d\x68\x6f\x72\x61\x73\x2f'],
            'globosp': ['\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x70\x6c\x61\x79\x65\x72\x2f\x61\x6f\x76\x69\x76\x6f\x2e\x70\x68\x70\x3f\x63\x61\x6e\x61\x6c\x3d\x67\x6c\x6f\x62\x6f\x73\x70\x26\x70\x61\x73\x74\x61\x3d\x6c\x69\x76\x65', '\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x61\x73\x73\x69\x73\x74\x69\x72\x2d\x67\x6c\x6f\x62\x6f\x2d\x73\x70\x2d\x61\x6f\x2d\x76\x69\x76\x6f\x2d\x32\x34\x2d\x68\x6f\x72\x61\x73\x2d\x67\x72\x61\x74\x69\x73\x2f'],
            'band': ['\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x70\x6c\x61\x79\x65\x72\x2f\x61\x6f\x76\x69\x76\x6f\x2e\x70\x68\x70\x3f\x63\x61\x6e\x61\x6c\x3d\x62\x61\x6e\x64\x63\x61\x6d\x70\x69\x6e\x61\x73\x73\x64\x26\x70\x61\x73\x74\x61\x3d\x6d\x79\x6c\x69\x76\x65', '\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x61\x73\x73\x69\x73\x74\x69\x72\x2d\x62\x61\x6e\x64\x2d\x61\x6f\x2d\x76\x69\x76\x6f\x2d\x32\x34\x2d\x68\x6f\x72\x61\x73\x2d\x67\x72\x61\x74\x69\x73\x2d\x65\x6d\x2d\x68\x64\x2f'],
            'space': ['\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x70\x6c\x61\x79\x65\x72\x2f\x61\x6f\x76\x69\x76\x6f\x2e\x70\x68\x70\x3f\x63\x61\x6e\x61\x6c\x3d\x73\x70\x61\x63\x65\x73\x64\x26\x70\x61\x73\x74\x61\x3d\x6d\x79\x6c\x69\x76\x65', '\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x61\x73\x73\x69\x73\x74\x69\x72\x2d\x73\x70\x61\x63\x65\x2d\x61\x6f\x2d\x76\x69\x76\x6f\x2d\x32\x34\x2d\x68\x6f\x72\x61\x73\x2d\x67\x72\x61\x74\x69\x73\x2d\x65\x6d\x2d\x68\x64\x2f'],
            'tnt': ['\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x70\x6c\x61\x79\x65\x72\x2f\x61\x6f\x76\x69\x76\x6f\x2e\x70\x68\x70\x3f\x63\x61\x6e\x61\x6c\x3d\x74\x6e\x74\x68\x64\x26\x70\x61\x73\x74\x61\x3d\x6d\x79\x6c\x69\x76\x65', '\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x61\x73\x73\x69\x73\x74\x69\x72\x2d\x74\x6e\x74\x2d\x61\x6f\x2d\x76\x69\x76\x6f\x2d\x32\x34\x2d\x68\x6f\x72\x61\x73\x2d\x67\x72\x61\x74\x69\x73\x2d\x65\x6d\x2d\x68\x64\x2f'],
            'premiereclubes': ['\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x70\x6c\x61\x79\x65\x72\x2f\x61\x6f\x76\x69\x76\x6f\x2e\x70\x68\x70\x3f\x63\x61\x6e\x61\x6c\x3d\x70\x72\x65\x6d\x69\x65\x72\x65\x31\x68\x64\x26\x70\x61\x73\x74\x61\x3d\x6d\x79\x6c\x69\x76\x65', '\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x61\x73\x73\x69\x73\x74\x69\x72\x2d\x70\x72\x65\x6d\x69\x65\x72\x65\x2d\x61\x6f\x2d\x76\x69\x76\x6f\x2d\x32\x34\x2d\x68\x6f\x72\x61\x73\x2d\x6f\x6e\x6c\x69\x6e\x65\x2d\x68\x64\x2f'],
            'combate': ['\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x70\x6c\x61\x79\x65\x72\x2f\x61\x6f\x76\x69\x76\x6f\x2e\x70\x68\x70\x3f\x63\x61\x6e\x61\x6c\x3d\x63\x6f\x6d\x62\x61\x74\x65\x68\x64\x26\x70\x61\x73\x74\x61\x3d\x6d\x79\x6c\x69\x76\x65', '\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x61\x73\x73\x69\x73\x74\x69\x72\x2d\x75\x66\x63\x2d\x63\x6f\x6d\x62\x61\x74\x65\x2d\x61\x6f\x2d\x76\x69\x76\x6f\x2d\x67\x72\x61\x74\x69\x73\x2d\x32\x34\x2d\x68\x6f\x72\x61\x73\x2d\x6f\x6e\x6c\x69\x6e\x65\x2f'],   
            'espn': ['\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x70\x6c\x61\x79\x65\x72\x2f\x61\x6f\x76\x69\x76\x6f\x2e\x70\x68\x70\x3f\x63\x61\x6e\x61\x6c\x3d\x65\x73\x70\x6e\x62\x72\x61\x73\x69\x6c\x68\x64\x26\x70\x61\x73\x74\x61\x3d\x6d\x79\x6c\x69\x76\x65', '\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x61\x73\x73\x69\x73\x74\x69\x72\x2d\x65\x73\x70\x6e\x2d\x62\x72\x61\x73\x69\x6c\x2d\x61\x6f\x2d\x76\x69\x76\x6f\x2d\x67\x72\x61\x74\x69\x73\x2d\x65\x6d\x2d\x68\x64\x2f'],
            'espn2': ['\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x70\x6c\x61\x79\x65\x72\x2f\x61\x6f\x76\x69\x76\x6f\x2e\x70\x68\x70\x3f\x63\x61\x6e\x61\x6c\x3d\x65\x73\x70\x6e\x68\x64\x26\x70\x61\x73\x74\x61\x3d\x6d\x79\x6c\x69\x76\x65', '\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x61\x73\x73\x69\x73\x74\x69\x72\x2d\x65\x73\x70\x6e\x2d\x61\x6f\x2d\x76\x69\x76\x6f\x2d\x67\x72\x61\x74\x69\x73\x2d\x65\x6d\x2d\x68\x64\x2f'],
            'espn3': ['\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x70\x6c\x61\x79\x65\x72\x2f\x61\x6f\x76\x69\x76\x6f\x2e\x70\x68\x70\x3f\x63\x61\x6e\x61\x6c\x3d\x65\x73\x70\x6e\x6d\x61\x69\x73\x68\x64\x26\x70\x61\x73\x74\x61\x3d\x6d\x79\x6c\x69\x76\x65', '\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x61\x73\x73\x69\x73\x74\x69\x72\x2d\x65\x73\x70\x6e\x2d\x32\x2d\x61\x6f\x2d\x76\x69\x76\x6f\x2d\x67\x72\x61\x74\x69\x73\x2d\x65\x6d\x2d\x68\x64\x2f'],
            'espn4': ['\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x70\x6c\x61\x79\x65\x72\x2f\x61\x6f\x76\x69\x76\x6f\x2e\x70\x68\x70\x3f\x63\x61\x6e\x61\x6c\x3d\x66\x6f\x78\x73\x70\x6f\x72\x74\x73\x68\x64\x26\x70\x61\x73\x74\x61\x3d\x6d\x79\x6c\x69\x76\x65', '\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x61\x73\x73\x69\x73\x74\x69\x72\x2d\x66\x6f\x78\x2d\x73\x70\x6f\x72\x74\x73\x2d\x61\x6f\x2d\x76\x69\x76\x6f\x2d\x68\x64\x2d\x32\x34\x2d\x68\x6f\x72\x61\x73\x2d\x6f\x6e\x6c\x69\x6e\x65\x2f'],
            'multishow': ['\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x70\x6c\x61\x79\x65\x72\x2f\x61\x6f\x76\x69\x76\x6f\x2e\x70\x68\x70\x3f\x63\x61\x6e\x61\x6c\x3d\x6d\x75\x6c\x74\x69\x73\x68\x6f\x77\x68\x64\x26\x70\x61\x73\x74\x61\x3d\x6d\x79\x6c\x69\x76\x65', '\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x61\x73\x73\x69\x73\x74\x69\x72\x2d\x6d\x75\x6c\x74\x69\x73\x68\x6f\x77\x2d\x61\x6f\x2d\x76\x69\x76\x6f\x2d\x32\x34\x2d\x68\x6f\x72\x61\x73\x2d\x6f\x6e\x6c\x69\x6e\x65\x2f'],
            'globonews': ['\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x70\x6c\x61\x79\x65\x72\x2f\x61\x6f\x76\x69\x76\x6f\x2e\x70\x68\x70\x3f\x63\x61\x6e\x61\x6c\x3d\x67\x6c\x6f\x62\x6f\x6e\x65\x77\x73\x73\x64\x26\x70\x61\x73\x74\x61\x3d\x6d\x79\x6c\x69\x76\x65', '\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x61\x73\x73\x69\x73\x74\x69\x72\x2d\x67\x6c\x6f\x62\x6f\x2d\x6e\x65\x77\x73\x2d\x61\x6f\x2d\x76\x69\x76\x6f\x2d\x6f\x6e\x6c\x69\x6e\x65\x2d\x67\x72\x61\x74\x69\x73\x2d\x32\x34\x2d\x68\x6f\x72\x61\x73\x2f'],
            'axn': ['\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x70\x6c\x61\x79\x65\x72\x2f\x61\x6f\x76\x69\x76\x6f\x2e\x70\x68\x70\x3f\x63\x61\x6e\x61\x6c\x3d\x61\x78\x6e\x73\x64\x26\x70\x61\x73\x74\x61\x3d\x6d\x79\x6c\x69\x76\x65', '\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x61\x73\x73\x69\x73\x74\x69\x72\x2d\x61\x78\x6e\x2d\x6f\x6e\x6c\x69\x6e\x65\x2d\x61\x6f\x2d\x76\x69\x76\x6f\x2d\x32\x34\x2d\x68\x6f\x72\x61\x73\x2f'],
            'telecinepremium': ['\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x70\x6c\x61\x79\x65\x72\x2f\x61\x6f\x76\x69\x76\x6f\x2e\x70\x68\x70\x3f\x63\x61\x6e\x61\x6c\x3d\x74\x65\x6c\x65\x63\x69\x6e\x65\x70\x72\x65\x6d\x69\x75\x6d\x73\x64\x26\x70\x61\x73\x74\x61\x3d\x6d\x79\x6c\x69\x76\x65', '\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x61\x73\x73\x69\x73\x74\x69\x72\x2d\x74\x65\x6c\x65\x63\x69\x6e\x65\x2d\x70\x72\x65\x6d\x69\x75\x6d\x2d\x61\x6f\x2d\x76\x69\x76\x6f\x2d\x6f\x6e\x6c\x69\x6e\x65\x2d\x67\x72\x61\x74\x69\x73\x2f'],
            'warnertv': ['\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x70\x6c\x61\x79\x65\x72\x2f\x61\x6f\x76\x69\x76\x6f\x2e\x70\x68\x70\x3f\x63\x61\x6e\x61\x6c\x3d\x77\x61\x72\x6e\x65\x72\x62\x72\x6f\x73\x73\x73\x64\x26\x70\x61\x73\x74\x61\x3d\x6d\x79\x6c\x69\x76\x65', '\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x61\x73\x73\x69\x73\x74\x69\x72\x2d\x77\x61\x72\x6e\x65\x72\x2d\x63\x68\x61\x6e\x6e\x65\x6c\x2d\x61\x6f\x2d\x76\x69\x76\x6f\x2d\x6f\x6e\x6c\x69\x6e\x65\x2d\x68\x64\x2f'],
            'history': ['\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x70\x6c\x61\x79\x65\x72\x2f\x61\x6f\x76\x69\x76\x6f\x2e\x70\x68\x70\x3f\x63\x61\x6e\x61\x6c\x3d\x68\x69\x73\x74\x6f\x72\x79\x73\x64\x26\x70\x61\x73\x74\x61\x3d\x6d\x79\x6c\x69\x76\x65', '\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x61\x73\x73\x69\x73\x74\x69\x72\x2d\x63\x61\x6e\x61\x6c\x2d\x68\x69\x73\x74\x6f\x72\x79\x2d\x61\x6f\x2d\x76\x69\x76\x6f\x2d\x6f\x6e\x6c\x69\x6e\x65\x2d\x67\x72\x61\x74\x69\x73\x2f'],
            'sbt': ['\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x70\x6c\x61\x79\x65\x72\x2f\x61\x6f\x76\x69\x76\x6f\x2e\x70\x68\x70\x3f\x63\x61\x6e\x61\x6c\x3d\x73\x62\x74\x73\x64\x26\x70\x61\x73\x74\x61\x3d\x6d\x79\x6c\x69\x76\x65', '\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x61\x73\x73\x69\x73\x74\x69\x72\x2d\x73\x62\x74\x2d\x61\x6f\x2d\x76\x69\x76\x6f\x2d\x32\x34\x2d\x68\x6f\x72\x61\x73\x2d\x6f\x6e\x6c\x69\x6e\x65\x2f'],
            'viva': ['\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x70\x6c\x61\x79\x65\x72\x2f\x61\x6f\x76\x69\x76\x6f\x2e\x70\x68\x70\x3f\x63\x61\x6e\x61\x6c\x3d\x76\x69\x76\x61\x73\x64\x26\x70\x61\x73\x74\x61\x3d\x6d\x79\x6c\x69\x76\x65', '\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x61\x73\x73\x69\x73\x74\x69\x72\x2d\x63\x61\x6e\x61\x6c\x2d\x76\x69\x76\x61\x2d\x61\x6f\x2d\x76\x69\x76\x6f\x2d\x6f\x6e\x6c\x69\x6e\x65\x2d\x32\x34\x2d\x68\x6f\x72\x61\x73\x2f'],
            'universaltv': ['\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x70\x6c\x61\x79\x65\x72\x2f\x61\x6f\x76\x69\x76\x6f\x2e\x70\x68\x70\x3f\x63\x61\x6e\x61\x6c\x3d\x75\x6e\x69\x76\x65\x72\x73\x61\x6c\x73\x64\x26\x70\x61\x73\x74\x61\x3d\x6d\x79\x6c\x69\x76\x65', '\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x61\x73\x73\x69\x73\x74\x69\x72\x2d\x75\x6e\x69\x76\x65\x72\x73\x61\x6c\x2d\x63\x68\x61\x6e\x6e\x65\x6c\x2d\x6f\x6e\x6c\x69\x6e\x65\x2d\x32\x34\x2d\x68\x6f\x72\x61\x73\x2d\x61\x6f\x2d\x76\x69\x76\x6f\x2f'],
            'discoverychannel': ['\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x70\x6c\x61\x79\x65\x72\x2f\x61\x6f\x76\x69\x76\x6f\x2e\x70\x68\x70\x3f\x63\x61\x6e\x61\x6c\x3d\x64\x69\x73\x63\x6f\x76\x65\x72\x79\x73\x64\x26\x70\x61\x73\x74\x61\x3d\x6d\x79\x6c\x69\x76\x65', '\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x61\x73\x73\x69\x73\x74\x69\x72\x2d\x63\x61\x6e\x61\x6c\x2d\x64\x69\x73\x63\x6f\x76\x65\x72\x79\x2d\x63\x68\x61\x6e\x6e\x65\x6c\x2d\x61\x6f\x2d\x76\x69\x76\x6f\x2d\x32\x34\x2d\x68\x6f\x72\x61\x73\x2d\x6f\x6e\x6c\x69\x6e\x65\x2f'],
            'cartoonnetwork': ['\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x70\x6c\x61\x79\x65\x72\x2f\x61\x6f\x76\x69\x76\x6f\x2e\x70\x68\x70\x3f\x63\x61\x6e\x61\x6c\x3d\x63\x61\x72\x74\x6f\x6f\x6e\x6e\x65\x74\x77\x6f\x72\x6b\x73\x64\x26\x70\x61\x73\x74\x61\x3d\x6d\x79\x6c\x69\x76\x65', '\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x61\x73\x73\x69\x73\x74\x69\x72\x2d\x63\x61\x72\x74\x6f\x6f\x6e\x2d\x6e\x65\x74\x77\x6f\x72\x6b\x2d\x61\x6f\x2d\x76\x69\x76\x6f\x2d\x67\x72\x61\x74\x69\x73\x2d\x32\x34\x2d\x68\x6f\x72\x61\x73\x2f'],
            'telecineaction': ['\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x70\x6c\x61\x79\x65\x72\x2f\x61\x6f\x76\x69\x76\x6f\x2e\x70\x68\x70\x3f\x63\x61\x6e\x61\x6c\x3d\x74\x65\x6c\x65\x63\x69\x6e\x65\x61\x63\x74\x69\x6f\x6e\x73\x64\x26\x70\x61\x73\x74\x61\x3d\x6d\x79\x6c\x69\x76\x65', '\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x61\x73\x73\x69\x73\x74\x69\x72\x2d\x74\x65\x6c\x65\x63\x69\x6e\x65\x2d\x61\x63\x74\x69\x6f\x6e\x2d\x61\x6f\x2d\x76\x69\x76\x6f\x2d\x65\x6d\x2d\x68\x64\x2d\x32\x34\x2d\x68\x6f\x72\x61\x73\x2d\x6f\x6e\x6c\x69\x6e\x65\x2f'],
            'hbo': ['\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x70\x6c\x61\x79\x65\x72\x2f\x61\x6f\x76\x69\x76\x6f\x2e\x70\x68\x70\x3f\x63\x61\x6e\x61\x6c\x3d\x68\x62\x6f\x73\x64\x26\x70\x61\x73\x74\x61\x3d\x6d\x79\x6c\x69\x76\x65', '\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x61\x73\x73\x69\x73\x74\x69\x72\x2d\x68\x62\x6f\x2d\x61\x6f\x2d\x76\x69\x76\x6f\x2d\x65\x6d\x2d\x68\x64\x2d\x6f\x6e\x6c\x69\x6e\x65\x2d\x32\x34\x2d\x68\x6f\x72\x61\x73\x2f'],
            'nick': ['\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x70\x6c\x61\x79\x65\x72\x2f\x61\x6f\x76\x69\x76\x6f\x2e\x70\x68\x70\x3f\x63\x61\x6e\x61\x6c\x3d\x6e\x69\x63\x6b\x73\x64\x26\x70\x61\x73\x74\x61\x3d\x6d\x79\x6c\x69\x76\x65', '\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x61\x73\x73\x69\x73\x74\x69\x72\x2d\x6e\x69\x63\x6b\x65\x6c\x6f\x64\x65\x6f\x6e\x2d\x61\x6f\x2d\x76\x69\x76\x6f\x2d\x32\x34\x2d\x68\x6f\x72\x61\x73\x2d\x6f\x6e\x6c\x69\x6e\x65\x2f'],
            'bandsports': ['\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x70\x6c\x61\x79\x65\x72\x2f\x61\x6f\x76\x69\x76\x6f\x2e\x70\x68\x70\x3f\x63\x61\x6e\x61\x6c\x3d\x62\x61\x6e\x64\x73\x70\x6f\x72\x74\x73\x73\x64\x26\x70\x61\x73\x74\x61\x3d\x6c\x69\x76\x65', '\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x61\x73\x73\x69\x73\x74\x69\x73\x2d\x62\x61\x6e\x64\x2d\x73\x70\x6f\x72\x74\x73\x2d\x61\x6f\x2d\x76\x69\x76\x6f\x2d\x6f\x6e\x6c\x69\x6e\x65\x2d\x32\x34\x2d\x68\x6f\x72\x61\x73\x2f'],
            'sportv': ['\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x70\x6c\x61\x79\x65\x72\x2f\x61\x6f\x76\x69\x76\x6f\x2e\x70\x68\x70\x3f\x63\x61\x6e\x61\x6c\x3d\x73\x70\x6f\x72\x74\x76\x68\x64\x26\x70\x61\x73\x74\x61\x3d\x6d\x79\x6c\x69\x76\x65', '\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x61\x73\x73\x69\x73\x74\x69\x72\x2d\x73\x70\x6f\x72\x74\x76\x2d\x61\x6f\x2d\x76\x69\x76\x6f\x2d\x68\x64\x2d\x32\x34\x2d\x68\x6f\x72\x61\x73\x2d\x6f\x6e\x6c\x69\x6e\x65\x2d\x67\x72\x61\x74\x69\x73\x2f'],
            'sportv2': ['\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x70\x6c\x61\x79\x65\x72\x2f\x61\x6f\x76\x69\x76\x6f\x2e\x70\x68\x70\x3f\x63\x61\x6e\x61\x6c\x3d\x73\x70\x6f\x72\x74\x76\x32\x68\x64\x26\x70\x61\x73\x74\x61\x3d\x6d\x79\x6c\x69\x76\x65', '\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x61\x73\x73\x69\x73\x74\x69\x72\x2d\x73\x70\x6f\x72\x74\x76\x2d\x32\x2d\x61\x6f\x2d\x76\x69\x76\x6f\x2d\x68\x64\x2d\x32\x34\x2d\x68\x6f\x72\x61\x73\x2d\x6f\x6e\x6c\x69\x6e\x65\x2d\x67\x72\x61\x74\x69\x73\x2f'],
            'sportv3': ['\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x70\x6c\x61\x79\x65\x72\x2f\x61\x6f\x76\x69\x76\x6f\x2e\x70\x68\x70\x3f\x63\x61\x6e\x61\x6c\x3d\x73\x70\x6f\x72\x74\x76\x33\x73\x64\x26\x70\x61\x73\x74\x61\x3d\x6d\x79\x6c\x69\x76\x65', '\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f\x61\x73\x73\x69\x73\x74\x69\x72\x2d\x73\x70\x6f\x72\x74\x76\x2d\x33\x2d\x61\x6f\x2d\x76\x69\x76\x6f\x2d\x68\x64\x2d\x32\x34\x2d\x68\x6f\x72\x61\x73\x2d\x6f\x6e\x6c\x69\x6e\x65\x2d\x66\x72\x65\x65\x2f']

        }
    url = canais[channel][0]
    referer = canais[channel][-1]
    referer_player = '\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d\x2f'
    origin = '\x68\x74\x74\x70\x73\x3a\x2f\x2f\x66\x75\x74\x65\x62\x6f\x6c\x70\x6c\x61\x79\x68\x64\x2e\x63\x6f\x6d'
    headers.update({'Referer': referer})
    try:
        src = web_bot(url,headers)
    except:
        src = ''
    try:
        script = re.findall(r'<script>([^"]+)</script>', src,re.DOTALL|re.IGNORECASE|re.MULTILINE)
        script = script[0]
    except:
        script = ''
    return script,referer_player,origin

def make_url(chann):
    script,referer,origin = get_script_futebolplay(chann)
    try:
        import js2py
        context = js2py.EvalJs()
        stubs = r'''
        // Protect Objects

        Object.freeze(console.log);
        Object.freeze(console);


        // Fake DOM

        Element = function() {};
        Element.prototype.innerHTML = '';
        Element.prototype.src = '';

        function Document() {};
        Document.prototype.referrer = 'https://www.futemax.fm/';
        Document.prototype.body = new Document();
        Document.prototype.getElementById = function(id) { return new Element(); };
        Document.prototype.createElement = function(tagName) { return new Element(); };
        Document.prototype.append = function(args) {};

        var document = new Document();


        // Fake LIBs

        p2pml = { 'hlsjs': { 'Engine': { 'isSupported': function () { return false } } } };

        function __clappr__events() {};
        __clappr__events.prototype.PLAYER_STOP = '';

        function __clappr__player() {};
        __clappr__player.prototype.setVolume = function() {};
        __clappr__player.prototype.play = function() {};
        __clappr__player.prototype.on = function() {};

        function __clappr__clappr() {};
        __clappr__clappr.prototype.results = '';
        __clappr__clappr.prototype.Player = function(args) { __clappr__clappr.prototype.results = args; return new __clappr__player() };
        __clappr__clappr.prototype.Events = function() { return new __clappr__events() };

        var Clappr = new __clappr__clappr();
        '''
        context.execute(stubs)
        js2py.disable_pyimport()
        context.execute(script)
        url = context.Clappr.results['source'] + '|User-Agent=' + quote(headers['User-Agent']) + '&Origin=' + quote(origin) + '&Referer=' + quote(referer)
        #texto_base64 = base64.b64encode(url.encode("utf-8")).decode("utf-8")
    except:
        url = 'url_error'
    return url

def update_chan(gist_origem):
    r = requests.get(gist_origem,headers=headers)
    src = r.text
    if 'megapix_special' in src:
        print('gerando megapix')
        src = src.replace('megapix_special',make_url('megapix'))
    if 'globosp_special' in src:
        print('gerando globosp')
        src = src.replace('globosp_special',make_url('globosp'))
    if 'band_special' in src:
        print('gerando band')
        src = src.replace('band_special',make_url('band'))
    if 'space_special' in src:
        print('gerando space')
        src = src.replace('space_special',make_url('space'))
    if 'tnt_special' in src:
        print('gerando tnt')
        src = src.replace('tnt_special',make_url('tnt'))
    if 'premiereclubes_special' in src:
        print('gerando premiere clubes')
        src = src.replace('premiereclubes_special',make_url('premiereclubes'))
    if 'combate_special' in src:
        print('gerando combate')
        src = src.replace('combate_special',make_url('combate'))
    if 'espn_special' in src:
        print('gerando espn')
        src = src.replace('espn_special',make_url('espn'))
    if 'espn2_special' in src:
        print('gerando espn2')
        src = src.replace('espn2_special',make_url('espn2'))
    if 'espn3_special' in src:
        print('gerando espn3')
        src = src.replace('espn3_special',make_url('espn3'))
    if 'espn4_special' in src:
        print('gerando espn4')
        src = src.replace('espn4_special',make_url('espn4'))
    if 'multishow_special' in src:
        print('gerando multishow')
        src = src.replace('multishow_special',make_url('multishow'))
    if 'globonews_special' in src:
        print('gerando globonews')
        src = src.replace('globonews_special',make_url('globonews'))
    if 'axn_special' in src:
        print('gerando axn')
        src = src.replace('axn_special',make_url('axn'))
    if 'telecinepremium_special' in src:
        print('gerando telecinepremium')
        src = src.replace('telecinepremium_special',make_url('telecinepremium'))
    if 'warnertv_special' in src:
        print('gerando warnertv')
        src = src.replace('warnertv_special',make_url('warnertv'))
    if 'history_special' in src:
        print('gerando warnertv')
        src = src.replace('history_special',make_url('history'))
    if 'sbt_special' in src:
        print('gerando sbt')
        src = src.replace('sbt_special',make_url('sbt'))
    if 'viva_special' in src:
        print('gerando viva')
        src = src.replace('viva_special',make_url('viva')) 
    if 'universaltv_special' in src:
        print('gerando universaltv')
        src = src.replace('universaltv_special',make_url('universaltv'))
    if 'discoverychannel' in src:
        print('gerando discoverychannel')
        src = src.replace('discoverychannel_special',make_url('discoverychannel'))
    if 'cartoonnetwork_special' in src:
        print('gerando cartoonnetwork')
        src = src.replace('cartoonnetwork_special',make_url('cartoonnetwork'))
    if 'telecineaction_special' in src:
        print('gerando telecineaction')
        src = src.replace('telecineaction_special',make_url('telecineaction'))
    if 'hbo_special' in src:
        print('gerando hbo')
        src = src.replace('hbo_special',make_url('hbo'))
    if 'nick_special' in src:
        print('gerando nick')
        src = src.replace('hbo_special',make_url('nick'))
    if 'bandsports_special' in src:
        print('gerando bandsports')
        src = src.replace('bandsports_special',make_url('bandsports'))
    if 'sportv_special' in src:
        print('gerando sportv')
        src = src.replace('sportv_special',make_url('sportv'))
    if 'sportv2_special' in src:
        print('gerando sportv2')
        src = src.replace('sportv2_special',make_url('sportv2'))
    if 'sportv3_special' in src:
        print('gerando sportv3')
        src = src.replace('sportv3_special',make_url('sportv3'))
    return src 

def update_gist(gist_id, github_token, file_name, file_content):
    headers = {
        "Authorization": f"Bearer {github_token}"
    }
    api_url = f"https://api.github.com/gists/{gist_id}"
    response = requests.get(api_url, headers=headers)

    if response.status_code == 200:
        gist_data = response.json()
        gist_data["files"][file_name] = {"content": file_content}
        response = requests.patch(api_url, headers=headers, json=gist_data)
        
        if response.status_code == 200:
            print("Gist updated successfully.")
        else:
            print(f"Failed to update Gist: {response.status_code} - {response.text}")
    else:
        print(f"Failed to fetch Gist: {response.status_code} - {response.text}")

# Configurações
gist_origem = sys.argv[1] # origem
gist_id = sys.argv[2] # destino
github_token = sys.argv[3] # token
file_name = "canais_servidor1.txt"
# Conteúdo do arquivo a ser gerado
file_content = update_chan(gist_origem)
# Chamada da função para atualizar o Gist
update_gist(gist_id, github_token, file_name, file_content)
